// Generated by CoffeeScript 1.6.2
(function() {
  App.TasksController = Ember.ArrayController.extend({
    itemController: 'task',
    sortProperties: ['complete', 'title'],
    actions: {
      createTodo: function() {
        var _this = this;

        return this.validate() && (function() {
          var task, title;

          title = _this.get('newTitle');
          task = _this.store.createRecord('task', {
            title: title,
            complete: false
          });
          _this.set('newTitle', '');
          return task.save();
        })();
      }
    },
    validate: function() {
      var title;

      title = this.get('newTitle');
      if (title != null ? title.trim().length : void 0) {
        this.set('errors', '');
        return true;
      } else {
        this.set('errors', "can't save a blank task");
        return false;
      }
    }
  });

}).call(this);
